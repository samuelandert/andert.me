import{s as se,a as I,c as C,i as $,u as oe,d as U}from"../chunks/scheduler.6e6fc796.js";import{S as ae,i as ie,b as O,d as A,m as R,a as T,t as b,e as P}from"../chunks/index.0e200954.js";import ue from"../chunks/BannerBetween.bd394982.js";import le from"../chunks/Header.2df6f9ce.js";import fe from"../chunks/SubHeader.6c4b19f9.js";import ce from"../chunks/WhyChooseUs.0bb19d65.js";import de from"../chunks/SlubeElement.c02cd374.js";function he(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var s=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return r[n]}})}),t}var Z={},D={},V={},H={},k={},B={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.OBJECT=r.isUndefined=r.isFunction=r.UNDEFINED=r.noop=void 0;const e=()=>{};r.noop=e,r.UNDEFINED=(0,r.noop)();const t=s=>typeof s=="function";r.isFunction=t;const n=s=>s===r.UNDEFINED;r.isUndefined=n,r.OBJECT=Object})(B);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.stableHash=void 0;const e=B,t=new WeakMap;let n=0;const s=o=>{const i=typeof o,f=o&&o.constructor,c=f==Date;let a,l;if((0,e.OBJECT)(o)===o&&!c&&f!=RegExp){if(a=t.get(o),a)return a;if(a=++n+"~",t.set(o,a),f==Array){for(a="@",l=0;l<o.length;l++)a+=(0,r.stableHash)(o[l])+",";t.set(o,a)}if(f==e.OBJECT){a="#";const u=e.OBJECT.keys(o).sort();for(;!(0,e.isUndefined)(l=u.pop());)(0,e.isUndefined)(o[l])||(a+=l+":"+(0,r.stableHash)(o[l])+",");t.set(o,a)}}else a=c?o.toJSON():i=="symbol"?o.toString():i=="string"?JSON.stringify(o):""+o;return a};r.stableHash=s})(k);Object.defineProperty(H,"__esModule",{value:!0});H.serialize=void 0;const ve=k,pe=B,we=r=>me(r)[0];H.serialize=we;const me=r=>{if((0,pe.isFunction)(r))try{r=r()}catch{r=""}const e=r;return r=typeof r=="string"?r:(Array.isArray(r)?r.length:r)?(0,ve.stableHash)(r):"",[r,e]};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.serialize=void 0;var e=H;Object.defineProperty(r,"serialize",{enumerable:!0,get:function(){return e.serialize}})})(V);/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var Ee=globalThis&&globalThis.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_e=Object.prototype.hasOwnProperty;function F(r,e){return _e.call(r,e)}function M(r){if(Array.isArray(r)){for(var e=new Array(r.length),t=0;t<e.length;t++)e[t]=""+t;return e}if(Object.keys)return Object.keys(r);var n=[];for(var s in r)F(r,s)&&n.push(s);return n}function p(r){switch(typeof r){case"object":return JSON.parse(JSON.stringify(r));case"undefined":return null;default:return r}}function j(r){for(var e=0,t=r.length,n;e<t;){if(n=r.charCodeAt(e),n>=48&&n<=57){e++;continue}return!1}return!0}function m(r){return r.indexOf("/")===-1&&r.indexOf("~")===-1?r:r.replace(/~/g,"~0").replace(/\//g,"~1")}function q(r){return r.replace(/~1/g,"/").replace(/~0/g,"~")}function J(r){if(r===void 0)return!0;if(r){if(Array.isArray(r)){for(var e=0,t=r.length;e<t;e++)if(J(r[e]))return!0}else if(typeof r=="object"){for(var n=M(r),s=n.length,o=0;o<s;o++)if(J(r[n[o]]))return!0}}return!1}function x(r,e){var t=[r];for(var n in e){var s=typeof e[n]=="object"?JSON.stringify(e[n],null,2):e[n];typeof s<"u"&&t.push(n+": "+s)}return t.join(`
`)}var Q=function(r){Ee(e,r);function e(t,n,s,o,i){var f=this.constructor,c=r.call(this,x(t,{name:n,index:s,operation:o,tree:i}))||this;return c.name=n,c.index=s,c.operation=o,c.tree=i,Object.setPrototypeOf(c,f.prototype),c.message=x(t,{name:n,index:s,operation:o,tree:i}),c}return e}(Error),d=Q,ye=p,_={add:function(r,e,t){return r[e]=this.value,{newDocument:t}},remove:function(r,e,t){var n=r[e];return delete r[e],{newDocument:t,removed:n}},replace:function(r,e,t){var n=r[e];return r[e]=this.value,{newDocument:t,removed:n}},move:function(r,e,t){var n=S(t,this.path);n&&(n=p(n));var s=E(t,{op:"remove",path:this.from}).removed;return E(t,{op:"add",path:this.path,value:s}),{newDocument:t,removed:n}},copy:function(r,e,t){var n=S(t,this.from);return E(t,{op:"add",path:this.path,value:p(n)}),{newDocument:t}},test:function(r,e,t){return{newDocument:t,test:y(r[e],this.value)}},_get:function(r,e,t){return this.value=r[e],{newDocument:t}}},ge={add:function(r,e,t){return j(e)?r.splice(e,0,this.value):r[e]=this.value,{newDocument:t,index:e}},remove:function(r,e,t){var n=r.splice(e,1);return{newDocument:t,removed:n[0]}},replace:function(r,e,t){var n=r[e];return r[e]=this.value,{newDocument:t,removed:n}},move:_.move,copy:_.copy,test:_.test,_get:_._get};function S(r,e){if(e=="")return r;var t={op:"_get",path:e};return E(r,t),t.value}function E(r,e,t,n,s,o){if(t===void 0&&(t=!1),n===void 0&&(n=!0),s===void 0&&(s=!0),o===void 0&&(o=0),t&&(typeof t=="function"?t(e,0,r,e.path):N(e,0)),e.path===""){var i={newDocument:r};if(e.op==="add")return i.newDocument=e.value,i;if(e.op==="replace")return i.newDocument=e.value,i.removed=r,i;if(e.op==="move"||e.op==="copy")return i.newDocument=S(r,e.from),e.op==="move"&&(i.removed=r),i;if(e.op==="test"){if(i.test=y(r,e.value),i.test===!1)throw new d("Test operation failed","TEST_OPERATION_FAILED",o,e,r);return i.newDocument=r,i}else{if(e.op==="remove")return i.removed=r,i.newDocument=null,i;if(e.op==="_get")return e.value=r,i;if(t)throw new d("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,e,r);return i}}else{n||(r=p(r));var f=e.path||"",c=f.split("/"),a=r,l=1,u=c.length,h=void 0,v=void 0,g=void 0;for(typeof t=="function"?g=t:g=N;;){if(v=c[l],v&&v.indexOf("~")!=-1&&(v=q(v)),s&&(v=="__proto__"||v=="prototype"&&l>0&&c[l-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(t&&h===void 0&&(a[v]===void 0?h=c.slice(0,l).join("/"):l==u-1&&(h=e.path),h!==void 0&&g(e,0,r,h)),l++,Array.isArray(a)){if(v==="-")v=a.length;else{if(t&&!j(v))throw new d("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,e,r);j(v)&&(v=~~v)}if(l>=u){if(t&&e.op==="add"&&v>a.length)throw new d("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,e,r);var i=ge[e.op].call(e,a,v,r);if(i.test===!1)throw new d("Test operation failed","TEST_OPERATION_FAILED",o,e,r);return i}}else if(l>=u){var i=_[e.op].call(e,a,v,r);if(i.test===!1)throw new d("Test operation failed","TEST_OPERATION_FAILED",o,e,r);return i}if(a=a[v],t&&l<u&&(!a||typeof a!="object"))throw new d("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,e,r)}}}function z(r,e,t,n,s){if(n===void 0&&(n=!0),s===void 0&&(s=!0),t&&!Array.isArray(e))throw new d("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");n||(r=p(r));for(var o=new Array(e.length),i=0,f=e.length;i<f;i++)o[i]=E(r,e[i],t,!0,s,i),r=o[i].newDocument;return o.newDocument=r,o}function ee(r,e,t){var n=E(r,e);if(n.test===!1)throw new d("Test operation failed","TEST_OPERATION_FAILED",t,e,r);return n.newDocument}function N(r,e,t,n){if(typeof r!="object"||r===null||Array.isArray(r))throw new d("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,r,t);if(_[r.op]){if(typeof r.path!="string")throw new d("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,r,t);if(r.path.indexOf("/")!==0&&r.path.length>0)throw new d('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,r,t);if((r.op==="move"||r.op==="copy")&&typeof r.from!="string")throw new d("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,r,t);if((r.op==="add"||r.op==="replace"||r.op==="test")&&r.value===void 0)throw new d("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,r,t);if((r.op==="add"||r.op==="replace"||r.op==="test")&&J(r.value))throw new d("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,r,t);if(t){if(r.op=="add"){var s=r.path.split("/").length,o=n.split("/").length;if(s!==o+1&&s!==o)throw new d("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,r,t)}else if(r.op==="replace"||r.op==="remove"||r.op==="_get"){if(r.path!==n)throw new d("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,r,t)}else if(r.op==="move"||r.op==="copy"){var i={op:"_get",path:r.from,value:void 0},f=G([i],t);if(f&&f.name==="OPERATION_PATH_UNRESOLVABLE")throw new d("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,r,t)}}}else throw new d("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,r,t)}function G(r,e,t){try{if(!Array.isArray(r))throw new d("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)z(p(e),p(r),t||!0);else{t=t||N;for(var n=0;n<r.length;n++)t(r[n],n,e,void 0)}}catch(s){if(s instanceof d)return s;throw s}}function y(r,e){if(r===e)return!0;if(r&&e&&typeof r=="object"&&typeof e=="object"){var t=Array.isArray(r),n=Array.isArray(e),s,o,i;if(t&&n){if(o=r.length,o!=e.length)return!1;for(s=o;s--!==0;)if(!y(r[s],e[s]))return!1;return!0}if(t!=n)return!1;var f=Object.keys(r);if(o=f.length,o!==Object.keys(e).length)return!1;for(s=o;s--!==0;)if(!e.hasOwnProperty(f[s]))return!1;for(s=o;s--!==0;)if(i=f[s],!y(r[i],e[i]))return!1;return!0}return r!==r&&e!==e}const Oe=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:d,_areEquals:y,applyOperation:E,applyPatch:z,applyReducer:ee,deepClone:ye,getValueByPointer:S,validate:G,validator:N},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var W=new WeakMap,Ae=function(){function r(e){this.observers=new Map,this.obj=e}return r}(),Re=function(){function r(e,t){this.callback=e,this.observer=t}return r}();function Te(r){return W.get(r)}function be(r,e){return r.observers.get(e)}function Pe(r,e){r.observers.delete(e.callback)}function re(r,e){e.unobserve()}function te(r,e){var t=[],n,s=Te(r);if(!s)s=new Ae(r),W.set(r,s);else{var o=be(s,e);n=o&&o.observer}if(n)return n;if(n={},s.value=p(r),e){n.callback=e,n.next=null;var i=function(){L(n)},f=function(){clearTimeout(n.next),n.next=setTimeout(i)};typeof window<"u"&&(window.addEventListener("mouseup",f),window.addEventListener("keyup",f),window.addEventListener("mousedown",f),window.addEventListener("keydown",f),window.addEventListener("change",f))}return n.patches=t,n.object=r,n.unobserve=function(){L(n),clearTimeout(n.next),Pe(s,n),typeof window<"u"&&(window.removeEventListener("mouseup",f),window.removeEventListener("keyup",f),window.removeEventListener("mousedown",f),window.removeEventListener("keydown",f),window.removeEventListener("change",f))},s.observers.set(e,new Re(e,n)),n}function L(r,e){e===void 0&&(e=!1);var t=W.get(r.object);K(t.value,r.object,r.patches,"",e),r.patches.length&&z(t.value,r.patches);var n=r.patches;return n.length>0&&(r.patches=[],r.callback&&r.callback(n)),n}function K(r,e,t,n,s){if(e!==r){typeof e.toJSON=="function"&&(e=e.toJSON());for(var o=M(e),i=M(r),f=!1,c=i.length-1;c>=0;c--){var a=i[c],l=r[a];if(F(e,a)&&!(e[a]===void 0&&l!==void 0&&Array.isArray(e)===!1)){var u=e[a];typeof l=="object"&&l!=null&&typeof u=="object"&&u!=null&&Array.isArray(l)===Array.isArray(u)?K(l,u,t,n+"/"+m(a),s):l!==u&&(s&&t.push({op:"test",path:n+"/"+m(a),value:p(l)}),t.push({op:"replace",path:n+"/"+m(a),value:p(u)}))}else Array.isArray(r)===Array.isArray(e)?(s&&t.push({op:"test",path:n+"/"+m(a),value:p(l)}),t.push({op:"remove",path:n+"/"+m(a)}),f=!0):(s&&t.push({op:"test",path:n,value:r}),t.push({op:"replace",path:n,value:e}))}if(!(!f&&o.length==i.length))for(var c=0;c<o.length;c++){var a=o[c];!F(r,a)&&e[a]!==void 0&&t.push({op:"add",path:n+"/"+m(a),value:p(e[a])})}}}function ne(r,e,t){t===void 0&&(t=!1);var n=[];return K(r,e,n,"",t),n}const Se=Object.freeze(Object.defineProperty({__proto__:null,compare:ne,generate:L,observe:te,unobserve:re},Symbol.toStringTag,{value:"Module"})),Ne=Object.assign({},Oe,Se,{JsonPatchError:Q,deepClone:p,escapePathComponent:m,unescapePathComponent:q}),Ie=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Q,_areEquals:y,applyOperation:E,applyPatch:z,applyReducer:ee,compare:ne,deepClone:p,default:Ne,escapePathComponent:m,generate:L,getValueByPointer:S,observe:te,unescapePathComponent:q,unobserve:re,validate:G,validator:N},Symbol.toStringTag,{value:"Module"})),Ce=he(Ie);var X={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.InputValidationError=r.ResponseError=r.getHttpResponseError=r.InternalError=r.AuthorizationError=r.OperationError=void 0;class e extends Error{constructor(a){var l,u,h;const v=(l=a==null?void 0:a.message)!==null&&l!==void 0?l:"Operation error",g=(a==null?void 0:a.cause)!==void 0?a.cause:void 0;super(v,{cause:g}),this.code=(u=a==null?void 0:a.code)!==null&&u!==void 0?u:"OperationError",this.statusCode=(h=a==null?void 0:a.statusCode)!==null&&h!==void 0?h:500,this.name=this.constructor.name}toJSON(){return{code:this.code,message:this===null||this===void 0?void 0:this.message}}}r.OperationError=e;class t extends e{constructor(a){var l;super({message:(l=a==null?void 0:a.message)!==null&&l!==void 0?l:"Not authorized",code:"AuthorizationError",statusCode:401,cause:a==null?void 0:a.cause})}}r.AuthorizationError=t;class n extends e{constructor(a){super({message:a==null?void 0:a.message,code:"InternalError",statusCode:500,cause:a==null?void 0:a.cause})}}r.InternalError=n;const s=c=>{var a,l;const u=c==null?void 0:c.extensions;if(u)return{statusCode:(a=u.http)===null||a===void 0?void 0:a.status,headers:(l=u.http)===null||l===void 0?void 0:l.headers,text:u.responseText}},o=c=>{var a;if(c instanceof i)return(0,r.getHttpResponseError)((a=c.errors)!==null&&a!==void 0?a:[]);if(Array.isArray(c)){for(const l of c){const u=s(l);if(u)return u}return}return s(c)};r.getHttpResponseError=o;class i extends e{constructor(a){var l,u;super({message:(l=a.message)!==null&&l!==void 0?l:"Response is not OK",code:(u=a.code)!==null&&u!==void 0?u:"ResponseError",cause:a.cause,statusCode:a.statusCode}),this.errors=a.errors}}r.ResponseError=i;class f extends i{constructor(a){var l;super({code:"InputValidationError",message:(l=a.message)!==null&&l!==void 0?l:"Validation error",statusCode:a.statusCode,cause:a.cause}),this.errors=a.errors}}r.InputValidationError=f})(X);Object.defineProperty(D,"__esModule",{value:!0});D.Client=void 0;const $e=V,Y=Ce,w=X;class Ue{constructor(e){var t;this.options=e,this.baseHeaders={},this.extraHeaders={},this.csrfEnabled=!0,this.baseHeaders=e.sdkVersion?{"WG-SDK-Version":e.sdkVersion}:{},this.extraHeaders={...e.extraHeaders},this.csrfEnabled=(t=e.csrfEnabled)!==null&&t!==void 0?t:!0}static buildCacheKey(e){return(0,$e.serialize)(e)}isAuthenticatedOperation(e){var t,n;return!!(!((n=(t=this.options.operationMetadata)===null||t===void 0?void 0:t[e])===null||n===void 0)&&n.requiresAuthentication)}operationUrl(e){return this.options.baseURL+"/operations/"+e}addUrlParams(e,t){t.sort();const n=this.encodeQueryParams(t);return e+(n?`?${n}`:"")}encodeQueryParams(e){const n=e.toString().replace("=&","&");return n.endsWith("=")?n.slice(0,-1):n}searchParams(e){const t=new URLSearchParams(e);return this.options.applicationHash&&t.set("wg_api_hash",this.options.applicationHash),t}async fetchJson(e,t={}){return t.headers={...t.headers,Accept:"application/json","Content-Type":"application/json"},this.fetch(e,t)}async fetch(e,t={}){const n=this.options.customFetch||globalThis.fetch;t.headers={...this.baseHeaders,...this.extraHeaders,...t.headers};let s;if(!t.signal&&this.options.requestTimeoutMs&&this.options.requestTimeoutMs>0){const o=new AbortController;s=setTimeout(()=>o.abort(),this.options.requestTimeoutMs),t.signal=o.signal}try{return await n(e,{credentials:"include",mode:"cors",...t})}finally{s&&clearTimeout(s)}}convertGraphQLResponse(e,t=200){var n,s;return e.errors&&e.errors.length?{error:new w.ResponseError({statusCode:t,code:(n=e.errors[0])===null||n===void 0?void 0:n.code,message:(s=e.errors[0])===null||s===void 0?void 0:s.message,errors:e.errors})}:e.data===void 0?{error:new w.ResponseError({code:"ResponseError",statusCode:t,message:"Server returned no data"})}:{data:e.data}}async handleClientResponseError(e){var t,n,s;if(e.status===401)return new w.AuthorizationError;const o=await e.text();try{const i=JSON.parse(o);if(e.status===400&&(i==null?void 0:i.code)==="InputValidationError"){const f=i;return new w.InputValidationError({errors:f.errors,message:f.message,statusCode:e.status})}return new w.ResponseError({code:(t=i.errors[0])===null||t===void 0?void 0:t.code,statusCode:e.status,errors:i.errors,message:(s=(n=i.errors[0])===null||n===void 0?void 0:n.message)!==null&&s!==void 0?s:"Invalid response from server"})}catch(i){return new w.ResponseError({cause:i,statusCode:e.status,message:o||"Invalid response from server"})}}async fetchResponseToClientResponse(e){if(!e.ok)return{error:await this.handleClientResponseError(e)};const t=await e.json();return this.convertGraphQLResponse({data:t.data,errors:t.errors},e.status)}stringifyInput(e){const t=JSON.stringify(e||{});return t==="{}"?void 0:t}setExtraHeaders(e){this.extraHeaders={...this.extraHeaders,...e}}hasExtraHeaders(){return Object.keys(this.extraHeaders).length>0}setAuthorizationToken(e){this.setExtraHeaders({Authorization:`Bearer ${e}`})}unsetAuthorization(){delete this.extraHeaders.Authorization}async query(e){const t=this.searchParams(),n=this.stringifyInput(e.input);n&&t.set("wg_variables",n),e.subscribeOnce&&t.set("wg_subscribe_once","");const s=this.addUrlParams(this.operationUrl(e.operationName),t),o=await this.fetchJson(s,{method:"GET",signal:e.abortSignal});return this.fetchResponseToClientResponse(o)}async getCSRFToken(){if(!this.csrfToken){const e=await this.fetch(`${this.options.baseURL}/auth/cookie/csrf`,{headers:{...this.baseHeaders,Accept:"text/plain"}});if(this.csrfToken=await e.text(),!this.csrfToken)throw new Error("Failed to get CSRF token. Please make sure you are authenticated.")}return this.csrfToken}async mutate(e){const t=this.searchParams(),n=this.addUrlParams(this.operationUrl(e.operationName),t),s={};this.isAuthenticatedOperation(e.operationName)&&this.csrfEnabled&&(s["X-CSRF-Token"]=await this.getCSRFToken());const o=await this.fetchJson(n,{method:"POST",signal:e.abortSignal,body:this.stringifyInput(e.input),headers:s});return this.fetchResponseToClientResponse(o)}async fetchUser(e){const t=this.searchParams();e!=null&&e.revalidate&&t.set("revalidate","");const n=await this.fetchJson(this.addUrlParams(`${this.options.baseURL}/auth/user`,t),{method:"GET",signal:e==null?void 0:e.abortSignal});if(!n.ok)throw await this.handleClientResponseError(n);return n.json()}async subscribe(e,t){if(e.subscribeOnce){const o=await this.query(e);return t==null||t(o),o}const n=this.options.forceSSE||!this.hasExtraHeaders();if(t&&"EventSource"in globalThis&&n)return this.subscribeWithSSE(e,t);const s=this.subscribeWithFetch(e);if(t){for await(const o of s)t(o);return}return s}subscribeWithSSE(e,t){return new Promise((n,s)=>{const o=this.searchParams({wg_sse:"",wg_json_patch:""}),i=this.stringifyInput(e.input);i&&o.set("wg_variables",i),e.liveQuery&&o.set("wg_live","");const f=this.addUrlParams(this.operationUrl(e.operationName),o),c=new EventSource(f,{withCredentials:!0});c.addEventListener("error",()=>{s(new Error(`SSE connection error: ${e.operationName}`))}),c.addEventListener("open",()=>{n()});let a=null;c.addEventListener("message",l=>{if(l.data==="done"){c.close();return}const u=JSON.parse(l.data);a!==null&&Array.isArray(u)?a=(0,Y.applyPatch)(a,u,!0,!1,!0).newDocument:a=u;const h=this.convertGraphQLResponse(a);t(h)}),e!=null&&e.abortSignal&&(e==null||e.abortSignal.addEventListener("abort",()=>c.close()))})}async fetchSubscription(e){const t=this.searchParams(),n=this.stringifyInput(e.input);n&&t.set("wg_variables",n),e.liveQuery&&t.set("wg_live","");const s=this.addUrlParams(this.operationUrl(e.operationName),t);return await this.fetchJson(s,{method:"GET",signal:e.abortSignal})}async*subscribeWithFetch(e){const t=await this.fetchSubscription(e);if(!t.ok||t.body===null){yield{error:new w.ResponseError({code:"ResponseError",message:`Response is not ok. Failed to subscribe to '${e.operationName}'`,statusCode:t.status})};return}const n=t.body.getReader(),s=new TextDecoder;let o="",i=null;for(;;){const{value:f,done:c}=await n.read();if(c)return;if(f&&(o+=s.decode(f),o.endsWith(`

`))){const a=JSON.parse(o.substring(0,o.length-2));i!==null&&Array.isArray(a)?i=(0,Y.applyPatch)(i,a).newDocument:i=a,yield this.convertGraphQLResponse(i,t.status),o=""}}}async uploadFiles(e,t){var n;this.validateFiles(e,t);const s=new FormData;for(const[l,u]of Object.entries(e.files))u instanceof Blob&&s.append("files",u);const o={};this.csrfEnabled&&(!((n=t==null?void 0:t.requireAuthentication)!==null&&n!==void 0)||n)&&(o["X-CSRF-Token"]=await this.getCSRFToken());const i=this.searchParams();"profile"in e&&(o["X-Upload-Profile"]=e.profile),"meta"in e&&(o["X-Metadata"]=e.meta?JSON.stringify(e.meta):"");const f=await this.fetch(this.addUrlParams(`${this.options.baseURL}/s3/${e.provider}/upload`,i),{headers:o,body:s,method:"POST",signal:e.abortSignal});if(!f.ok)throw await this.handleClientResponseError(f);const c=await f.json();if(!c.length)throw new w.ResponseError({code:"ResponseError",message:`Invalid server response shape. Failed to upload files to '${e.provider}' provider`,statusCode:f.status});return{fileKeys:c.map(l=>l.key)}}validateFiles(e,t){if(t!=null&&t.maxAllowedFiles&&e.files.length>t.maxAllowedFiles)throw new Error(`uploading ${e.files.length} exceeds the maximum allowed (${t.maxAllowedFiles})`);for(const n of e.files){if(t!=null&&t.maxAllowedUploadSizeBytes&&n.size>t.maxAllowedUploadSizeBytes)throw new Error(`file ${n.name} with size ${n.size} exceeds the maximum allowed (${t.maxAllowedUploadSizeBytes})`);if(t!=null&&t.allowedFileExtensions&&n.name.includes(".")){const s=n.name.substring(n.name.indexOf(".")+1).toLowerCase();if(s&&t.allowedFileExtensions.findIndex(o=>o.toLocaleLowerCase())<0)throw new Error(`file ${n.name} with extension ${s} is not allowed`)}if(t!=null&&t.allowedMimeTypes){const s=n.type;if(t.allowedMimeTypes.findIndex(i=>i==s?!0:s.match(new RegExp(i.replace("*",".*"))))<0)throw new Error(`file ${n.name} with MIME type ${s} is not allowed`)}}}login(e,t){if(typeof window>"u")throw new Error("login() can only be called in a browser environment");const n=new URLSearchParams({redirect_uri:t||window.location.toString()}),s=this.addUrlParams(`${this.options.baseURL}/auth/cookie/authorize/${e}`,n);window.location.assign(s)}async logout(e){var t;if(typeof window>"u")throw new Error("logout() can only be called in a browser environment");const n=new URLSearchParams({logout_openid_connect_provider:e!=null&&e.logoutOpenidConnectProvider?"true":"false"}),s=this.addUrlParams(`${this.options.baseURL}/auth/cookie/user/logout`,n),o=await this.fetch(s,{method:"GET"});if(!o.ok)return!1;let i=!0;if(!((t=o.headers.get("Content-Type"))===null||t===void 0)&&t.includes("application/json")){const f=await o.json();f.redirect&&(e!=null&&e.redirect?i=await e.redirect(f.redirect):window.location.href=f.redirect)}return i&&(e!=null&&e.after)&&e.after(),i}}D.Client=Ue;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.getHttpResponseError=r.InputValidationError=r.AuthorizationError=r.ResponseError=r.OperationError=r.Client=void 0;var e=D;Object.defineProperty(r,"Client",{enumerable:!0,get:function(){return e.Client}});var t=X;Object.defineProperty(r,"OperationError",{enumerable:!0,get:function(){return t.OperationError}}),Object.defineProperty(r,"ResponseError",{enumerable:!0,get:function(){return t.ResponseError}}),Object.defineProperty(r,"AuthorizationError",{enumerable:!0,get:function(){return t.AuthorizationError}}),Object.defineProperty(r,"InputValidationError",{enumerable:!0,get:function(){return t.InputValidationError}}),Object.defineProperty(r,"getHttpResponseError",{enumerable:!0,get:function(){return t.getHttpResponseError}})})(Z);const Le={applicationHash:"7c3362a9",baseURL:"http://localhost:9991",sdkVersion:"0.163.3"},De={Countries:{requiresAuthentication:!1},Todos:{requiresAuthentication:!1}};class He extends Z.Client{query(e){return super.query(e)}mutate(e){return super.mutate(e)}subscribe(e,t){return super.subscribe(e,t)}login(e,t){return super.login(e,t)}async fetchUser(e){return super.fetchUser(e)}}const ze=r=>new He({...Le,...r,operationMetadata:De,csrfEnabled:!1}),Fe=ze(),Me=async()=>{const r=await Fe.query({operationName:"Countries",input:{code:"DE"}});if(r!=null&&r.error)throw r.error;return(r==null?void 0:r.data)??Error("No Data")},xe=Object.freeze(Object.defineProperty({__proto__:null,load:Me},Symbol.toStringTag,{value:"Module"}));function je(r){let e,t,n,s,o,i,f,c,a,l;return e=new le({}),n=new fe({}),o=new ue({}),f=new de({}),a=new ce({}),{c(){O(e.$$.fragment),t=I(),O(n.$$.fragment),s=I(),O(o.$$.fragment),i=I(),O(f.$$.fragment),c=I(),O(a.$$.fragment)},l(u){A(e.$$.fragment,u),t=C(u),A(n.$$.fragment,u),s=C(u),A(o.$$.fragment,u),i=C(u),A(f.$$.fragment,u),c=C(u),A(a.$$.fragment,u)},m(u,h){R(e,u,h),$(u,t,h),R(n,u,h),$(u,s,h),R(o,u,h),$(u,i,h),R(f,u,h),$(u,c,h),R(a,u,h),l=!0},p:oe,i(u){l||(T(e.$$.fragment,u),T(n.$$.fragment,u),T(o.$$.fragment,u),T(f.$$.fragment,u),T(a.$$.fragment,u),l=!0)},o(u){b(e.$$.fragment,u),b(n.$$.fragment,u),b(o.$$.fragment,u),b(f.$$.fragment,u),b(a.$$.fragment,u),l=!1},d(u){u&&(U(t),U(s),U(i),U(c)),P(e,u),P(n,u),P(o,u),P(f,u),P(a,u)}}}function Je(r,e,t){let{data:n}=e;return r.$$set=s=>{"data"in s&&t(0,n=s.data)},[n]}class Ye extends ae{constructor(e){super(),ie(this,e,Je,je,se,{data:0})}}export{Ye as component,xe as universal};
